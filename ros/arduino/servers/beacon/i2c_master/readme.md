
Дата обновления документации: 2020.02.10

i2c_master - прошивка для отладочного сервера i2c для маяка.

После включения контроллера маяка, для него необходимо задать режим работы. Для этого отправляется пакет с одной из команд установки режима - CMD_SET_IRA_MODE или CMD_SET_RC5_MODE.
Начиная с версии прошивки v1.1, длина приёма/передачи пакета всегда I2C_BUF_LEN = 5 байт 

==========  КОМАНДЫ по i2c 	==========

	Param		          | Value |			description
---------------------------------------------------------------
 CMD_EMIT_STOP	    | 	0	  | остановить передачу
 CMD_EMIT_START_RC5	| 	1	  | начать передачу RC5 сигнала(сигнал на основе параметров из массива exec)
 CMD_EMIT_START_IRA | 	2   | начать передачу IRA сигнала(сигнал на основе параметров из массива exec)
 			
==========  РЕЖИМЫ  ==========

	  Mode		        | Value  |			description
---------------------------------------------------------------
 CMD_SET_IRA_MODE   |	  3    | установить контроллер в режим IRA / работа в режиме IRA 
 CMD_SET_RC5_MODE   | 	4    | установить контроллер в режим RC5 / работа в режиме RC5 
 NOT_START	        |  0xFF  | значение, передаваемое маяком, если не установлен режим 
 
==========   Протокол передачи по i2c	==========

Длина: 5 байт

Отправка:
buf[0]		-       команда (что делать с данными) 
buf[1]		-	количество передаваемых байт 
buf[2]		-	отправляемый сигнал (данные)
buf[3]		-	частота отправки (сколько раз в секунду излучатель отправляет сигнал)
buf[4]		-       доп.байт (не используется в текущей версии) 	

Пример:
символ '-' - любое значение 
Остановить передачу:
 0 | - | - | - | - 

 Начать излучать сигнал 0xE1 с частотой 2 Гц
  1 | 3 | 0xE1 | 2 | - 

Полученный пакет с данными.  Для маяка не установлен режим, данных нет:
 0 | 0 | 0 | 0 | 0xFF

Полученный пакет с данными. Маяк работает в режиме RC5, распознаёт два сигнала со значением 4 и один со значением 2:
 4 | 4 | 2 | 0 | 4
