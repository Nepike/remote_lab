Описание файла обмена данными

# Пример содержания:
3 1 0
1 0 0 0 2 2 5 2 5 0
2 0 0 3 720 0
1 1 0 0 3 4 4 5 4 0
2 1 0 1 656 0
1 2 0 0 4 1 5 1 5 0
2 2 0 3 261 0
1 3 0 0 0 3 5 4 5 0
1 3 1 0 4 2 3 2 4 0
2 3 0 2 328 0
3 2 0

# в каждом ориентире может быть несколько объектов, в каждой сцене может быть несколько ориентиров

# Расшифровка:

# Начало пакета:
# итого - 8
2  |3  |3
---+---+---
HDR| 1 |CS 
  
  HDR - заголовок (HDR=3)
  CS - контрольная сумма
  
# Описание объекта: 10 значений (включая заголовок HDR и контрольную сумму CS)
# итого - 29
 2 | 3 | 3 | 3 | 3 | 3 | 2| 3 | 4  | 3
---+---+---+---+---+---+--+---+----+---
HDR|ns |nl |no |na |dl |rc|dr | cm |CS
---+---+---+---+---+---+--+---+----+---

  HDR - заголовок (HDR=1)
  ns - номер сцены (от 0 до 7)
  nl - номер ориентира в сцене (от 0 до 7)
  no - номер объекта в ориентире (от 0 до 7)
  na - номер ArUco-маркера, уменьшенный на 10, чтобы попадать в диапазон от 0 до 7
  dl - направление на левую границу объекта (от 1 до 5)
  rc - расстояние до центра объекта (от 0 до 3) 2 бита
  dr - направление на правую границу объекта (от 1 до 5)
  cm - направление по компасу (от 1 до 15)
  CS - контрольная сумма

# Описание сцены: 6 значений (включая заголовок HDR и контрольную сумму CS)
# итого - 29
 2 | 3 | 3 | 3 | 15         | 3
---+---+---+---+------------+---
HDR|ns |nl |db |nt          |CS
---+---+---+---+------------+---

  HDR - заголовок (HDR=2)
  ns - номер сцены (от 0 до 7)
  nl - номер опорного ориентира (от 0 до 7)
  db - направление обхода опорного ориентира: 1, 2 или 3 (слева, прямо или справа)
  nt - количество тактов, которые робот провел на данном отрезке маршрута (15 бит)
  CS - контрольная сумма

# Конец пакета:
# итого - 8
 2 | 3 | 3
---+---+---
HDR| 2 |CS 
---+---+---
  
  HDR - заголовок (HDR=3)
  CS - контрольная сумма

=================================================================

Передача данных по протоколу RC5
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Несущая частота - 28 kHz

Предложения, описывающие маршрут, упаковывается в слова длиной до 30 бит.

Plen = 30  - Длина пакета, бит
Tsend = 3  - Время, в течение которого повторяется отправка, с
Freq = 5   - Частота генерации кода, Гц.
Nsent = 20 - среднее количество предложений в описании маршрута

Итого каждый пакет передается Tsend*Freq = 15 раз

Время передачи - порядка Tsend*Nsent = 3*20 = 60 с.
Средний объем передаваемых данных Plen*Nsent = 30*20 = 600 бит


Передача данных по протоколу ZigBee
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Описание маршрута передается в текстовом виде. Фактически, происходит передача файла.

Используются модули XBee PRO S2B
Скорость - 9600
Архитектура - звезда (star)
Время передачи файла - порядка 30 с. (в текстовом виде)
